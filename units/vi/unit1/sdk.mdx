# MCP SDK

Giao Th·ª©c Ng·ªØ C·∫£nh M√¥ H√¨nh (MCP) cung c·∫•p SDK ch√≠nh th·ª©c cho c·∫£ JavaScript, Python v√† c√°c ng√¥n ng·ªØ kh√°c. ƒêi·ªÅu n√†y gi√∫p vi·ªác tri·ªÉn khai Client v√† Server MCP trong ·ª©ng d·ª•ng c·ªßa b·∫°n tr·ªü n√™n d·ªÖ d√†ng. C√°c SDK n√†y x·ª≠ l√Ω c√°c chi ti·∫øt giao th·ª©c c·∫•p th·∫•p, cho ph√©p b·∫°n t·∫≠p trung v√†o vi·ªác x√¢y d·ª±ng ch·ª©c nƒÉng ·ª©ng d·ª•ng.

## T·ªïng quan v·ªÅ SDK

C·∫£ hai SDK ƒë·ªÅu cung c·∫•p ch·ª©c nƒÉng c·ªët l√µi t∆∞∆°ng t·ª±, tu√¢n theo ƒë·∫∑c t·∫£ giao th·ª©c MCP m√† ch√∫ng ta ƒë√£ th·∫£o lu·∫≠n tr∆∞·ªõc ƒë√≥. Ch√∫ng x·ª≠ l√Ω:

- Giao ti·∫øp ·ªü c·∫•p ƒë·ªô giao th·ª©c
- ƒêƒÉng k√Ω v√† kh√°m ph√° t√≠nh nƒÉng
- Tu·∫ßn t·ª± h√≥a/gi·∫£i tu·∫ßn t·ª± h√≥a tin nh·∫Øn
- Qu·∫£n l√Ω k·∫øt n·ªëi
- X·ª≠ l√Ω l·ªói

## Tri·ªÉn khai c√°c th√†nh ph·∫ßn c·ªët l√µi

H√£y c√πng kh√°m ph√° c√°ch tri·ªÉn khai t·ª´ng th√†nh ph·∫ßn c·ªët l√µi (Tools, Resources, v√† Prompts) b·∫±ng c·∫£ hai SDK.

<hfoptions id="server-implementation">
<hfoption id="python">

<Youtube id="exzrb5QNUis" />

<details>
<summary>B·∫•m ƒë·ªÉ xem b·∫£n d·ªãch ti·∫øng Vi·ªát</summary>
```python
from mcp.server.fastmcp import FastMCP

# T·∫°o Server MCP
mcp = FastMCP("D·ªãch v·ª• Th·ªùi ti·∫øt")


@mcp.tool()
def get_weather(location: str) -> str:
    """Nh·∫≠n th√¥ng tin th·ªùi ti·∫øt hi·ªán t·∫°i ·ªü m·ªôt ƒë·ªãa ƒëi·ªÉm c·ª• th·ªÉ."""
    return f"Weather in {location}: Sunny, 72¬∞F"


@mcp.resource("weather://{location}")
def weather_resource(location: str) -> str:
    """Cung c·∫•p d·ªØ li·ªáu th·ªùi ti·∫øt d∆∞·ªõi d·∫°ng t√†i nguy√™n."""
    return f"Weather data for {location}: Sunny, 72¬∞F"


@mcp.prompt()
def weather_report(location: str) -> str:
    """T·∫°o l·ªùi nh·∫Øc b√°o c√°o th·ªùi ti·∫øt."""
    return f"""You are a weather reporter. Weather report for {location}?"""


# Ch·∫°y Server
if __name__ == "__main__":
    mcp.run()
```
</details>

```python
from mcp.server.fastmcp import FastMCP

# Create an MCP server
mcp = FastMCP("Weather Service")


@mcp.tool()
def get_weather(location: str) -> str:
    """Get the current weather for a specified location."""
    return f"Weather in {location}: Sunny, 72¬∞F"


@mcp.resource("weather://{location}")
def weather_resource(location: str) -> str:
    """Provide weather data as a resource."""
    return f"Weather data for {location}: Sunny, 72¬∞F"


@mcp.prompt()
def weather_report(location: str) -> str:
    """Create a weather report prompt."""
    return f"""You are a weather reporter. Weather report for {location}?"""


# Run the server
if __name__ == "__main__":
    mcp.run()

```

</hfoption>
<hfoption id="javascript">

<details>
<summary>B·∫•m ƒë·ªÉ xem b·∫£n d·ªãch ti·∫øng Vi·ªát</summary>
```javascript
import { McpServer, ResourceTemplate } from "@modelcontextprotocol/sdk/server/mcp.js";
import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";
import { z } from "zod";

// T·∫°o Server MCP
const server = new McpServer({
    name: "D·ªãch v·ª• Th·ªùi ti·∫øt",
    version: "1.0.0"
});

// Tri·ªÉn khai c√¥ng c·ª•
server.tool("get_weather",
    { location: z.string() },
    async ({ location }) => ({
        content: [{
            type: "text",
            text: `Weather in ${location}: Sunny, 72¬∞F`
        }]
    })
);

// Tri·ªÉn khai t√†i nguy√™n
server.resource(
    "weather",
    new ResourceTemplate("weather://{location}", { list: undefined }),
    async (uri, { location }) => ({
        contents: [{
            uri: uri.href,
            text: `Weather data for ${location}: Sunny, 72¬∞F`
        }]
    })
);

// Tri·ªÉn khai prompt
server.prompt(
    "weather_report",
    { location: z.string() },
    async ({ location }) => ({
        messages: [
            {
                role: "assistant",
                content: {
                    type: "text",
                    text: "You are a weather reporter."
                }
            },
            {
                role: "user",
                content: {
                    type: "text",
                    text: `Weather report for ${location}?`
                }
            }
        ]
    })
);

// Ch·∫°y server
const transport = new StdioServerTransport();
await server.connect(transport);
```

Sau khi ƒë√£ tri·ªÉn khai m√°y ch·ªß c·ªßa m√¨nh, b·∫°n c√≥ th·ªÉ kh·ªüi ch·∫°y n√≥ b·∫±ng c√°ch ch·∫°y script server.

```bash
mcp dev server.py
```

</details>

```javascript
// index.mjs
import { McpServer, ResourceTemplate } from "@modelcontextprotocol/sdk/server/mcp.js";
import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";
import { z } from "zod";

// Create an MCP server
const server = new McpServer({
    name: "Weather Service",
    version: "1.0.0"
});

// Tool implementation
server.tool("get_weather",
    { location: z.string() },
    async ({ location }) => ({
        content: [{
            type: "text",
            text: `Weather in ${location}: Sunny, 72¬∞F`
        }]
    })
);

// Resource implementation
server.resource(
    "weather",
    new ResourceTemplate("weather://{location}", { list: undefined }),
    async (uri, { location }) => ({
        contents: [{
            uri: uri.href,
            text: `Weather data for ${location}: Sunny, 72¬∞F`
        }]
    })
);

// Prompt implementation
server.prompt(
    "weather_report",
    { location: z.string() },
    async ({ location }) => ({
        messages: [
            {
                role: "assistant",
                content: {
                    type: "text",
                    text: "You are a weather reporter."
                }
            },
            {
                role: "user",
                content: {
                    type: "text",
                    text: `Weather report for ${location}?`
                }
            }
        ]
    })
);

// Run the server
const transport = new StdioServerTransport();
await server.connect(transport);
```

Sau khi ƒë√£ tri·ªÉn khai m√°y ch·ªß c·ªßa m√¨nh, b·∫°n c√≥ th·ªÉ kh·ªüi ch·∫°y n√≥ b·∫±ng c√°ch ch·∫°y script server.

```bash
npx @modelcontextprotocol/inspector node ./index.mjs
```

</hfoption>
</hfoptions>

L·ªánh n√†y s·∫Ω kh·ªüi t·∫°o m·ªôt m√°y ch·ªß ph√°t tri·ªÉn ch·∫°y file `server.py` v√† ghi l·∫°i output sau:

<details>
<summary>B·∫•m ƒë·ªÉ xem b·∫£n d·ªãch ti·∫øng Vi·ªát</summary>
```
Starting MCP inspector...
‚öôÔ∏è Proxy server listening on port 6277
Spawned stdio transport
Connected MCP client to backing server transport
Created web app transport
Set up MCP proxy
üîç MCP Inspector is up and running at http://127.0.0.1:6274 üöÄ
```
</details>
```bash
Starting MCP inspector...
‚öôÔ∏è Proxy server listening on port 6277
Spawned stdio transport
Connected MCP client to backing server transport
Created web app transport
Set up MCP proxy
üîç MCP Inspector is up and running at http://127.0.0.1:6274 üöÄ
```

B·∫°n c√≥ th·ªÉ m·ªü MCP Inspector t·∫°i [http://127.0.0.1:6274](http://127.0.0.1:6274) ƒë·ªÉ xem c√°c t√≠nh nƒÉng c·ªßa m√°y ch·ªß v√† t∆∞∆°ng t√°c v·ªõi ch√∫ng.

B·∫°n s·∫Ω th·∫•y c√°c t√≠nh nƒÉng c·ªßa m√°y ch·ªß v√† kh·∫£ nƒÉng g·ªçi ch√∫ng th√¥ng qua giao di·ªán ng∆∞·ªùi d√πng.

![MCP Inspector](https://huggingface.co/datasets/mcp-course/images/resolve/main/unit1/6.png)

## B·ªô SDK MCP

MCP ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ ƒë·ªôc l·∫≠p v·ªõi ng√¥n ng·ªØ l·∫≠p tr√¨nh, v√† hi·ªán c√≥ c√°c SDK ch√≠nh th·ª©c cho nhi·ªÅu ng√¥n ng·ªØ ph·ªï bi·∫øn:

| Ng√¥n ng·ªØ | Kho l∆∞u tr·ªØ | Ng∆∞·ªùi b·∫£o tr√¨ | Tr·∫°ng th√°i |
|----------|------------|---------------|--------|
| TypeScript | [github.com/modelcontextprotocol/typescript-sdk](https://github.com/modelcontextprotocol/typescript-sdk) | Anthropic | Ho·∫°t ƒë·ªông |
| Python | [github.com/modelcontextprotocol/python-sdk](https://github.com/modelcontextprotocol/python-sdk) | Anthropic | Ho·∫°t ƒë·ªông |
| Java | [github.com/modelcontextprotocol/java-sdk](https://github.com/modelcontextprotocol/java-sdk) | Spring AI (VMware) | Ho·∫°t ƒë·ªông |
| Kotlin | [github.com/modelcontextprotocol/kotlin-sdk](https://github.com/modelcontextprotocol/kotlin-sdk) | JetBrains | Ho·∫°t ƒë·ªông |
| C# | [github.com/modelcontextprotocol/csharp-sdk](https://github.com/modelcontextprotocol/csharp-sdk) | Microsoft | Ho·∫°t ƒë·ªông (Xem tr∆∞·ªõc) |
| Swift | [github.com/modelcontextprotocol/swift-sdk](https://github.com/modelcontextprotocol/swift-sdk) | loopwork-ai | Ho·∫°t ƒë·ªông |
| Rust | [github.com/modelcontextprotocol/rust-sdk](https://github.com/modelcontextprotocol/rust-sdk) | Anthropic/C·ªông ƒë·ªìng | Ho·∫°t ƒë·ªông |

C√°c SDK n√†y cung c·∫•p c√°c abstraction ƒë·∫∑c th√π cho t·ª´ng ng√¥n ng·ªØ, gi√∫p ƒë∆°n gi·∫£n h√≥a vi·ªác l√†m vi·ªác v·ªõi giao th·ª©c MCP, cho ph√©p b·∫°n t·∫≠p trung v√†o vi·ªác tri·ªÉn khai logic c·ªët l√µi c·ªßa m√°y ch·ªß ho·∫∑c m√°y kh√°ch thay v√¨ x·ª≠ l√Ω c√°c chi ti·∫øt giao th·ª©c c·∫•p th·∫•p.

## B∆∞·ªõc ti·∫øp theo

Ch√∫ng ta m·ªõi ch·ªâ ch·∫°m v√†o b·ªÅ m·∫∑t c·ªßa nh·ªØng g√¨ c√≥ th·ªÉ l√†m v·ªõi MCP nh∆∞ng b·∫°n ƒë√£ c√≥ m·ªôt m√°y ch·ªß c∆° b·∫£n ƒëang ch·∫°y. Th·ª±c t·∫ø, b·∫°n c≈©ng ƒë√£ k·∫øt n·ªëi v·ªõi n√≥ b·∫±ng MCP Client tr√™n tr√¨nh duy·ªát.

Trong ph·∫ßn ti·∫øp theo, ch√∫ng ta s·∫Ω xem c√°ch k·∫øt n·ªëi v·ªõi m√°y ch·ªß t·ª´ m·ªôt LLM.